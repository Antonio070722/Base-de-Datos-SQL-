CREATE DATABASE UNIVERSIDAD;
USE UNIVERSIDAD;

CREATE TABLE ALUMNO(
    DNI VARCHAR(9) PRIMARY KEY,
    NOMBRE VARCHAR(10),
    NOTA double,
    OPCION VARCHAR(1) CHECK (OPCION IN ('A', 'B', 'C', 'D'))
);

CREATE TABLE ESTUDIO(
    CODIGO INT PRIMARY KEY,
    NOMBRE VARCHAR(10) NOT NULL,
    NOTADECORTE decimal(1) CHECK (NOTADECORTE > 5)
);

CREATE TABLE PREINSCRIPCION(
    ADMITIDO VARCHAR(2) CHECK (ADMITIDO IN ('S', 'N')),
    ORDEN INT,
    DNI_ALUMN VARCHAR(9),
    CODIGO_EST INT,
    PRIMARY KEY (DNI_ALUMN, CODIGO_EST),
    FOREIGN KEY (DNI_ALUMN) REFERENCES ALUMNO (DNI),
    FOREIGN KEY (CODIGO_EST) REFERENCES ESTUDIO (CODIGO)
);
